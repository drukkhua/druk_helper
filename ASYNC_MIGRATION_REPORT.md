# üöÄ –û—Ç—á–µ—Ç –æ–± –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –±–æ—Ç–∞

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ó–∞–º–µ–Ω–∏–ª —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã (`requests`) –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ (`aiohttp`)
- –î–æ–±–∞–≤–∏–ª –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É —Å —Ñ–∞–π–ª–∞–º–∏ —á–µ—Ä–µ–∑ `aiofiles`
- –í—Å–µ –º–µ—Ç–æ–¥—ã –≤ `GoogleSheetsUpdater` —Ç–µ–ø–µ—Ä—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ

### ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ (30 —Å–µ–∫—É–Ω–¥)
- –°–æ–∑–¥–∞–Ω `requirements_dev.txt` –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –û–±–Ω–æ–≤–ª–µ–Ω `requirements.txt` –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞

### ‚úÖ –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏
- –°–æ–∑–¥–∞–Ω `debug_runner.py` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤ PyCharm
- –î–æ–±–∞–≤–ª–µ–Ω `pycharm_config.py` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –°–æ–∑–¥–∞–Ω `troubleshooting.md` —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –§–∞–π–ª: `google_sheets_updater.py`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã: `asyncio`, `aiohttp`, `aiofiles`
- –í—Å–µ –º–µ—Ç–æ–¥—ã —Å—Ç–∞–ª–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ (`async def`)
- –ó–∞–º–µ–Ω–µ–Ω `requests.get()` –Ω–∞ `aiohttp.ClientSession.get()`
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
- –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `aiofiles`

**–ú–µ—Ç–æ–¥—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `get_all_sheets_info()` ‚Üí `async def get_all_sheets_info()`
- `download_csv_data()` ‚Üí `async def download_csv_data()`
- `save_csv_to_data()` ‚Üí `async def save_csv_to_data()`
- `update_templates_from_google_sheets()` ‚Üí `async def update_templates_from_google_sheets()`
- `update_templates_from_sheets()` ‚Üí `async def update_templates_from_sheets()`

### –§–∞–π–ª: `handlers.py`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω `await` –∫ –≤—ã–∑–æ–≤—É `update_templates_from_sheets()`

### –§–∞–π–ª: `requirements.txt`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£–±—Ä–∞–Ω `requests` (–∑–∞–º–µ–Ω–µ–Ω –Ω–∞ `aiohttp`)
- –î–æ–±–∞–≤–ª–µ–Ω `aiofiles` –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏
- –î–æ–±–∞–≤–ª–µ–Ω `psutil` –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –§–∞–π–ª: `requirements_dev.txt`
**–°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —Ñ–∞–π–ª:**
- –õ–∏–Ω—Ç–µ—Ä—ã: `black`, `flake8`, `isort`, `mypy`
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: `pytest`, `pytest-asyncio`, `pytest-cov`
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: `bandit`, `safety`
- –û—Ç–ª–∞–¥–∫–∞: `memory-profiler`, `psutil`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –í—Å–µ —Ç–µ—Å—Ç—ã –≤ `test_google_sheets_updater.py` –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è async/await
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã `AsyncMock` –¥–ª—è –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω—ã `@pytest.mark.asyncio` –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```
========================= 109 passed, 2 warnings in 0.16s =========================
```

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–ª–∞–¥–∫–∏

### `debug_runner.py`
- –ù–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤ PyCharm
- –í–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á asyncio
- Graceful shutdown

### `pycharm_config.py`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–æ—Ç–∞

### `troubleshooting.md`
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –∑–∞–≤–∏—Å–∞–Ω–∏–π
- –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ async/await –∫–æ–¥–∞
- –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## üéØ –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∞–Ω–∏–π
- ‚ùå –ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ `requests.get()` ‚Üí ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ `aiohttp`
- ‚ùå –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚Üí ‚úÖ `aiofiles`
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–∞–π–º–∞—É—Ç–æ–≤ ‚Üí ‚úÖ 30-—Å–µ–∫—É–Ω–¥–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã

### –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (109/109)
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ dev/prod –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ Graceful shutdown

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ event loop –Ω–∞ HTTP-–∑–∞–ø—Ä–æ—Å–∞—Ö
- –ó–∞–≤–∏—Å–∞–Ω–∏—è –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å Google Sheets API
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–∞–π–º–∞—É—Ç–æ–≤

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–µ —Ç–∞–π–º–∞—É—Ç—ã
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –¥–µ–ø–ª–æ—è

1. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - `BOT_TOKEN`
   - `ADMIN_USER_IDS`
   - `GOOGLE_SHEETS_API_KEY`

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
   ```bash
   pip install -r requirements.txt
   ```

3. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
   ```bash
   pip install -r requirements_dev.txt
   ```

4. **–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:**
   ```bash
   pytest tests/
   ```

5. **–û—Ç–ª–∞–¥–∫–∞ –≤ PyCharm:**
   ```bash
   python pycharm_config.py
   python debug_runner.py
   ```

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ë–æ—Ç —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ:
- –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–ª–∞–¥–∫–∏
- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ

–ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∞–Ω–∏–µ–º –≤ PyCharm —Ä–µ—à–µ–Ω—ã!
