# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã upselling - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Google Sheets —Å —Ü–µ–Ω–∞–º–∏

### üìä **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**

```csv
category,group,button_text,keywords,answer_ukr,answer_rus,priority,upsell_trigger,base_price,upsell_price,price_suffix
–≤–∏–∑–∏—Ç–∫–∏,—Ü–µ–Ω–∞,,—Ü–µ–Ω–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å–∫–æ–ª—å–∫–æ,"96 –≤—ñ–∑–∏—Ç–æ–∫ –∑–∞ {base_price} –≥—Ä–Ω –Ω–∞ –∫—Ä–µ–π–¥–æ–≤–∞–Ω–æ–º—É –ø–∞–ø–µ—Ä—ñ 350–≥/–º¬≤","96 –≤–∏–∑–∏—Ç–æ–∫ –∑–∞ {base_price} –≥—Ä–Ω –Ω–∞ –º–µ–ª–æ–≤–∞–Ω–Ω–æ–π –±—É–º–∞–≥–µ 350–≥/–º¬≤",10,base,158,,
–≤–∏–∑–∏—Ç–∫–∏,–ø—Ä–µ–º–∏—É–º_–º–∞—Ç–µ—Ä–∏–∞–ª—ã,,–∫–∞—á–µ—Å—Ç–≤–æ –ª—É—á—à–µ,"‚ú® –î–∏–∑–∞–π–Ω–µ—Ä—Å—å–∫–∏–π –∫–∞—Ä—Ç–æ–Ω 400–≥/–º¬≤ - –≤—Å—å–æ–≥–æ +{upsell_price} –≥—Ä–Ω","‚ú® –î–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏–π –∫–∞—Ä—Ç–æ–Ω 400–≥/–º¬≤ - –≤—Å–µ–≥–æ +{upsell_price} –≥—Ä–Ω",8,price,158,50,–∫ –±–∞–∑–æ–≤–æ–π —Ü–µ–Ω–µ
–≤–∏–∑–∏—Ç–∫–∏,—Å–ø–µ—Ü—ç—Ñ—Ñ–µ–∫—Ç—ã,,—Ç–∏—Å–Ω–µ–Ω–∏–µ —Ñ–æ–ª—å–≥–∞ –ª—é–∫—Å,"üåü –¢–∏—Å–Ω–µ–Ω–Ω—è –∑–æ–ª–æ—Ç–æ—é —Ñ–æ–ª—å–≥–æ—é - –≤—ñ–¥ +{upsell_price} –≥—Ä–Ω","üåü –¢–∏—Å–Ω–µ–Ω–∏–µ –∑–æ–ª–æ—Ç–æ–π —Ñ–æ–ª—å–≥–æ–π - –æ—Ç +{upsell_price} –≥—Ä–Ω",7,materials,158,120,–∑–∞ —Å–ø–µ—Ü—ç—Ñ—Ñ–µ–∫—Ç
–≤–∏–∑–∏—Ç–∫–∏,—Å—Ä–æ—á–Ω–æ–µ_–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ,,–±—ã—Å—Ç—Ä–æ —Å—Ä–æ—á–Ω–æ –∑–∞–≤—Ç—Ä–∞,"‚ö° –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –∑–∞ 8 –≥–æ–¥–∏–Ω - –¥–æ–ø–ª–∞—Ç–∞ {upsell_price} –≥—Ä–Ω","‚ö° –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∑–∞ 8 —á–∞—Å–æ–≤ - –¥–æ–ø–ª–∞—Ç–∞ {upsell_price} –≥—Ä–Ω",6,time,158,200,–∑–∞ —Å—Ä–æ—á–Ω–æ—Å—Ç—å
–≤–∏–∑–∏—Ç–∫–∏,–±–æ–ª—å—à–∏–µ_—Ç–∏—Ä–∞–∂–∏,,—Ç–∏—Ä–∞–∂ –º–Ω–æ–≥–æ –æ–ø—Ç–æ–º,"üí∞ 1000 —à—Ç - –≤—Å—å–æ–≥–æ {base_price} –≥—Ä–Ω (–µ–∫–æ–Ω–æ–º—ñ—è 40%)","üí∞ 1000 —à—Ç - –≤—Å–µ–≥–æ {base_price} –≥—Ä–Ω (—ç–∫–æ–Ω–æ–º–∏—è 40%)",9,"price,quantity",920,,–æ–ø—Ç–æ–≤–∞—è —Ü–µ–Ω–∞
–ª–∏—Å—Ç–æ–≤–∫–∏,—Ü–µ–Ω–∞,,—Ü–µ–Ω–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å,"–õ–∏—Å—Ç—ñ–≤–∫–∏ –ê4 –Ω–∞ –∫—Ä–µ–π–¥–æ–≤–∞–Ω–æ–º—É –ø–∞–ø–µ—Ä—ñ - {base_price} –≥—Ä–Ω –∑–∞ 100 —à—Ç","–õ–∏—Å—Ç–æ–≤–∫–∏ –ê4 –Ω–∞ –º–µ–ª–æ–≤–∞–Ω–Ω–æ–π –±—É–º–∞–≥–µ - {base_price} –≥—Ä–Ω –∑–∞ 100 —à—Ç",10,base,180,,
–ª–∏—Å—Ç–æ–≤–∫–∏,—Å–ø–µ—Ü—ç—Ñ—Ñ–µ–∫—Ç—ã,,–ª–∞–º–∏–Ω–∞—Ü–∏—è –∑–∞—â–∏—Ç–∞,"‚ú® –õ–∞–º—ñ–Ω–∞—Ü—ñ—è - +{upsell_price} –≥—Ä–Ω, –∑–∞—Ö–∏—Å—Ç–∏—Ç—å –≤—ñ–¥ –≤–æ–ª–æ–≥–∏","‚ú® –õ–∞–º–∏–Ω–∞—Ü–∏—è - +{upsell_price} –≥—Ä–Ω, –∑–∞—â–∏—Ç–∏—Ç –æ—Ç –≤–ª–∞–≥–∏",8,materials,180,40,–∑–∞ –ª–∞–º–∏–Ω–∞—Ü–∏—é
```

## –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### üéØ **–ü—Ä–∏–º–µ—Ä 1: –ó–∞–ø—Ä–æ—Å –æ —Ü–µ–Ω–µ**

**–ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** "–°–∫–æ–ª—å–∫–æ —Å—Ç–æ—è—Ç –≤–∏–∑–∏—Ç–∫–∏?"

**–ê–∫—Ç–∏–≤–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã:** `['price']`

**–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∏—Å—Ç–µ–º—ã:**
```
‚úÖ 96 –≤—ñ–∑–∏—Ç–æ–∫ –∑–∞ 158 –≥—Ä–Ω –Ω–∞ –∫—Ä–µ–π–¥–æ–≤–∞–Ω–æ–º—É –ø–∞–ø–µ—Ä—ñ 350–≥/–º¬≤ –∑–∞ 1-2 –¥–Ω—ñ

‚ú® –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:
‚Ä¢ 1000 —à—Ç - –≤—Å—å–æ–≥–æ 920 –≥—Ä–Ω (–µ–∫–æ–Ω–æ–º—ñ—è 40%)
‚Ä¢ –î–∏–∑–∞–π–Ω–µ—Ä—Å—å–∫–∏–π –∫–∞—Ä—Ç–æ–Ω 400–≥/–º¬≤ - –≤—Å—å–æ–≥–æ +50 –≥—Ä–Ω
```

**–õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞:**
- –ë–∞–∑–æ–≤—ã–π –æ—Ç–≤–µ—Ç (priority 10, trigger "base")
- –ë–æ–ª—å—à–∏–µ —Ç–∏—Ä–∞–∂–∏ (priority 9, trigger "price,quantity") - –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç + —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–∞
- –ü—Ä–µ–º–∏—É–º –º–∞—Ç–µ—Ä–∏–∞–ª—ã (priority 8, trigger "price") - —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–∞

### üéØ **–ü—Ä–∏–º–µ—Ä 2: –ó–∞–ø—Ä–æ—Å –æ –∫–∞—á–µ—Å—Ç–≤–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤**

**–ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** "–ö–∞–∫–∞—è –±—É–º–∞–≥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–∏–∑–∏—Ç–æ–∫? –ù—É–∂–Ω–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ"

**–ê–∫—Ç–∏–≤–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã:** `['materials', 'quality', 'quality_focused']`

**–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∏—Å—Ç–µ–º—ã:**
```
‚úÖ 96 –≤—ñ–∑–∏—Ç–æ–∫ –∑–∞ 158 –≥—Ä–Ω –Ω–∞ –∫—Ä–µ–π–¥–æ–≤–∞–Ω–æ–º—É –ø–∞–ø–µ—Ä—ñ 350–≥/–º¬≤ –∑–∞ 1-2 –¥–Ω—ñ

‚ú® –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:
‚Ä¢ –¢–∏—Å–Ω–µ–Ω–Ω—è –∑–æ–ª–æ—Ç–æ—é —Ñ–æ–ª—å–≥–æ—é - –≤—ñ–¥ +120 –≥—Ä–Ω
‚Ä¢ –î–∏–∑–∞–π–Ω–µ—Ä—Å—å–∫–∏–π –∫–∞—Ä—Ç–æ–Ω 400–≥/–º¬≤ - –≤—Å—å–æ–≥–æ +50 –≥—Ä–Ω
```

**–õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞:**
- –°–ø–µ—Ü—ç—Ñ—Ñ–µ–∫—Ç—ã (priority 7, trigger "materials") + –±–æ–Ω—É—Å –∑–∞ "quality_focused"
- –ü—Ä–µ–º–∏—É–º –º–∞—Ç–µ—Ä–∏–∞–ª—ã (priority 8, trigger "price") - –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞

### üéØ **–ü—Ä–∏–º–µ—Ä 3: –°—Ä–æ—á–Ω—ã–π –∑–∞–∫–∞–∑**

**–ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** "–ú–æ–∂–Ω–æ –ª–∏ —Å–¥–µ–ª–∞—Ç—å –≤–∏–∑–∏—Ç–∫–∏ –∫ –∑–∞–≤—Ç—Ä–∞—à–Ω–µ–º—É —É—Ç—Ä—É? –û—á–µ–Ω—å —Å—Ä–æ—á–Ω–æ –Ω—É–∂–Ω–æ"

**–ê–∫—Ç–∏–≤–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã:** `['time']`

**–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∏—Å—Ç–µ–º—ã:**
```
‚úÖ 96 –≤—ñ–∑–∏—Ç–æ–∫ –∑–∞ 158 –≥—Ä–Ω –Ω–∞ –∫—Ä–µ–π–¥–æ–≤–∞–Ω–æ–º—É –ø–∞–ø–µ—Ä—ñ 350–≥/–º¬≤ –∑–∞ 1-2 –¥–Ω—ñ

‚ú® –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:
‚Ä¢ –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –∑–∞ 8 –≥–æ–¥–∏–Ω - –¥–æ–ø–ª–∞—Ç–∞ 200 –≥—Ä–Ω
```

**–õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞:**
- –°—Ä–æ—á–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ (priority 6, trigger "time") - –ø—Ä—è–º–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–∞

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

### üîß **–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π:**

```python
# –í src/bot/handlers/main.py

from src.ai.upselling_engine import upsell_engine

async def handle_message(message: Message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π upselling"""

    user_text = message.text
    user_context = {
        'user_id': message.from_user.id,
        'is_first_time': await is_first_time_user(message.from_user.id),
        'previous_orders': await get_user_order_count(message.from_user.id)
    }

    # –ò—Å–ø–æ–ª—å–∑—É–µ–º upselling –¥–≤–∏–∂–æ–∫ –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
    search_results = upsell_engine.search_with_upselling(
        query=user_text,
        user_context=user_context,
        language="ukr",
        max_upsell=2
    )

    if search_results:
        # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç —Å upselling –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏
        formatted_answer = upsell_engine.format_final_answer(search_results, "ukr")

        # –ü–æ–ª—É—á–∞–µ–º –∞–Ω–∞–ª–∏—Ç–∏–∫—É –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
        analytics = upsell_engine.get_upselling_analytics(search_results)
        logger.info(f"Upselling analytics: {analytics}")

        await message.answer(formatted_answer)
    else:
        await message.answer("–ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–µ –º–æ–≥—É –Ω–∞–π—Ç–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –æ—Ç–≤–µ—Ç.")
```

### üîß **–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–Ω–∞–Ω–∏–π —Å —Ü–µ–Ω–∞–º–∏:**

```python
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ src/ai/knowledge_base.py –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ü–µ–Ω

def load_csv_data(self) -> List[Dict]:
    """–ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ CSV —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–æ–ª–µ–π —Ü–µ–Ω"""

    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...

    data_item = {
        "id": unique_id,
        "category": category,
        "subcategory": row.get("group", ""),
        "button_text": row.get("button_text", ""),
        "keywords": row.get("keywords", ""),
        "answer_ukr": row.get("answer_ukr", ""),
        "answer_rus": row.get("answer_rus", ""),
        "sort_order": row.get("sort_order", "0"),
        # –ù–æ–≤—ã–µ –ø–æ–ª—è –¥–ª—è upselling
        "priority": int(row.get("priority", 10)),
        "upsell_trigger": row.get("upsell_trigger", ""),
        "base_price": self._parse_price(row.get("base_price", "")),
        "upsell_price": self._parse_price(row.get("upsell_price", "")),
        "price_suffix": row.get("price_suffix", "")
    }

def _parse_price(self, price_str: str) -> float:
    """–ü–∞—Ä—Å–∏—Ç —Ü–µ–Ω—É –∏–∑ —Å—Ç—Ä–æ–∫–∏"""
    if not price_str:
        return 0.0
    try:
        # –£–¥–∞–ª—è–µ–º –≤—Å—ë –∫—Ä–æ–º–µ —Ü–∏—Ñ—Ä –∏ —Ç–æ—á–∫–∏
        clean_price = re.sub(r'[^\d.]', '', str(price_str))
        return float(clean_price) if clean_price else 0.0
    except:
        return 0.0
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### üéØ **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã:**

| Trigger | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å | –ü—Ä–∏–º–µ—Ä |
|---------|-------------------|--------|
| `price` | –ü—Ä–∏ –≤–æ–ø—Ä–æ—Å–∞—Ö –æ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ | "–°–∫–æ–ª—å–∫–æ —Å—Ç–æ—è—Ç –≤–∏–∑–∏—Ç–∫–∏?" |
| `materials` | –ü—Ä–∏ –≤–æ–ø—Ä–æ—Å–∞—Ö –æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö | "–ö–∞–∫–∞—è –±—É–º–∞–≥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?" |
| `time` | –ü—Ä–∏ –≤–æ–ø—Ä–æ—Å–∞—Ö –æ —Å—Ä–æ–∫–∞—Ö | "–ö–æ–≥–¥–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–æ?" |
| `design` | –ü—Ä–∏ –≤–æ–ø—Ä–æ—Å–∞—Ö –æ –¥–∏–∑–∞–π–Ω–µ | "–ú–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å –º–∞–∫–µ—Ç?" |
| `quantity` | –ü—Ä–∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ | "–ù—É–∂–Ω–æ 1000 —à—Ç—É–∫" |

### üéØ **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã:**

| Trigger | –°—Ü–µ–Ω–∞—Ä–∏–π | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|---------|----------|-----------|
| `price,quantity` | –í–æ–ø—Ä–æ—Å –æ —Ü–µ–Ω–µ + –±–æ–ª—å—à–æ–π —Ç–∏—Ä–∞–∂ | –ü–æ–∫–∞–∑–∞—Ç—å –æ–ø—Ç–æ–≤—ã–µ —Å–∫–∏–¥–∫–∏ |
| `materials,quality` | –í–æ–ø—Ä–æ—Å –æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö + –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ | –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–º–∏—É–º –æ–ø—Ü–∏–∏ |
| `time,urgent` | –°—Ä–æ—á–Ω—ã–π –∑–∞–∫–∞–∑ | –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ä–æ—á–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ |

### üéØ **–ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã:**

| Trigger | –£—Å–ª–æ–≤–∏–µ | –°—Ç—Ä–∞—Ç–µ–≥–∏—è |
|---------|---------|-----------|
| `first_time` | –ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç | –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –æ–ø—Ü–∏–∏ |
| `returning` | –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∫–ª–∏–µ–Ω—Ç | –ü–æ–∫–∞–∑–∞—Ç—å –Ω–æ–≤—ã–µ —É—Å–ª—É–≥–∏ |
| `price_sensitive` | –ê–∫—Ü–µ–Ω—Ç –Ω–∞ —ç–∫–æ–Ω–æ–º–∏–∏ | –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–≥–æ–¥–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è |
| `quality_focused` | –ê–∫—Ü–µ–Ω—Ç –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–µ | –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–º–∏—É–º —É—Å–ª—É–≥–∏ |

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### üìä **–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**

```python
# –ü—Ä–∏–º–µ—Ä –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
analytics = {
    'query': user_text,
    'active_triggers': active_triggers,
    'upsell_shown': len(upsell_results),
    'upsell_options': [r['metadata']['group'] for r in upsell_results],
    'total_potential_revenue': sum([r['metadata'].get('upsell_price', 0) for r in upsell_results]),
    'timestamp': datetime.now().isoformat()
}
```

### üìà **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:**

- –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–∫–∞–∑–æ–≤ upselling (% –∑–∞–ø—Ä–æ—Å–æ–≤ —Å upselling)
- –°—Ä–µ–¥–Ω–∏–π —á–µ–∫ —Å upselling vs –±–µ–∑ upselling
- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –∏ –∏—Ö –∫–æ–Ω–≤–µ—Ä—Å–∏—è
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–∑–Ω—ã—Ö priority —É—Ä–æ–≤–Ω–µ–π

–≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª–∏—Ç –≤–∞–º –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ü–µ–Ω–∞–º–∏ —á–µ—Ä–µ–∑ Google Sheets –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ upselling –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π!
